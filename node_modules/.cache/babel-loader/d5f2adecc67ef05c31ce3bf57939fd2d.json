{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teemu\\\\OneDrive - Haaga-Helia Oy Ab\\\\Frond-End Development\\\\Carshop\\\\src\\\\components\\\\Carlist.js\";\nimport React, { useState, useEffect } from \"react\";\nimport ReactTable from \"react-table-6\";\nimport \"react-table-6/react-table.css\";\nimport Button from \"@material-ui/core/Button\";\nimport Editcar from \"./Editcar\";\nimport Addcar from \"./Addcar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nexport default function Carlist() {\n  const [cars, setCars] = useState([]);\n  useEffect(() => fetchdata(), []);\n  const [open, setOpen] = React.useState(false);\n  const [editopen, setEditopen] = React.useState(false);\n  const [saveopen, setSaveopen] = React.useState(false);\n\n  const handleClose = reason => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n    setEditopen(false);\n    setSaveopen(false);\n  };\n\n  const fetchdata = () => {\n    fetch(\"https://carstockrest.herokuapp.com/cars\").then(response => response.json()).then(data => setCars(data._embedded.cars));\n  };\n\n  const saveCar = car => {\n    fetch(\"https://carstockrest.herokuapp.com/cars\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(car)\n    }).then(res => fetchdata()).catch(err => console.error(err));\n    setSaveopen(true);\n  };\n\n  const updateCar = (car, link) => {\n    fetch(link, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(car)\n    }).then(res => fetchdata()).catch(err => console.error(err));\n    setEditopen(true);\n  };\n\n  const deletecar = link => {\n    if (window.confirm(\"Are you sure?\")) {\n      fetch(link, {\n        method: \"DELETE\"\n      }).then(res => fetchdata()).catch(err => console.error(err));\n      setOpen(true);\n    }\n  };\n\n  const columns = [{\n    Header: \"Brand\",\n    accessor: \"brand\"\n  }, {\n    Header: \"Model\",\n    accessor: \"model\"\n  }, {\n    Header: \"Color\",\n    accessor: \"color\"\n  }, {\n    Header: \"Fuel\",\n    accessor: \"fuel\"\n  }, {\n    Header: \"Year\",\n    accessor: \"year\"\n  }, {\n    Header: \"Price\",\n    accessor: \"price\"\n  }, {\n    sortable: false,\n    filterable: false,\n    width: 100,\n    accessor: \"_links.self.href\",\n    Cell: row => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Editcar, {\n      updateCar: updateCar,\n      car: row.original,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"small\",\n      onClick: () => deletecar(row.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      open: open,\n      autoHideDuration: 10000,\n      onClose: handleClose,\n      message: \"Car Deleted\",\n      action: React.createElement(React.Fragment, null, React.createElement(Button, {\n        color: \"secondary\",\n        size: \"small\",\n        onClick: handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Close\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))\n  }];\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(Addcar, {\n    saveCar: saveCar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }), React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\"\n    },\n    open: saveopen,\n    autoHideDuration: 10000,\n    onClose: handleClose,\n    message: \"Car Added\",\n    action: React.createElement(React.Fragment, null, React.createElement(Button, {\n      color: \"secondary\",\n      size: \"small\",\n      onClick: handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Close\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), React.createElement(ReactTable, {\n    filterable: true,\n    data: cars,\n    columns: columns,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["C:/Users/teemu/OneDrive - Haaga-Helia Oy Ab/Frond-End Development/Carshop/src/components/Carlist.js"],"names":["React","useState","useEffect","ReactTable","Button","Editcar","Addcar","IconButton","DeleteIcon","Snackbar","Carlist","cars","setCars","fetchdata","open","setOpen","editopen","setEditopen","saveopen","setSaveopen","handleClose","reason","fetch","then","response","json","data","_embedded","saveCar","car","method","headers","body","JSON","stringify","res","catch","err","console","error","updateCar","link","deletecar","window","confirm","columns","Header","accessor","sortable","filterable","width","Cell","row","float","original","value","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ReactTable from \"react-table-6\";\r\nimport \"react-table-6/react-table.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Editcar from \"./Editcar\";\r\nimport Addcar from \"./Addcar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nexport default function Carlist() {\r\n  const [cars, setCars] = useState([]);\r\n\r\n  useEffect(() => fetchdata(), []);\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [editopen, setEditopen] = React.useState(false);\r\n  const [saveopen, setSaveopen] = React.useState(false);\r\n\r\n  const handleClose = reason => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n    setEditopen(false);\r\n    setSaveopen(false);\r\n  };\r\n\r\n  const fetchdata = () => {\r\n    fetch(\"https://carstockrest.herokuapp.com/cars\")\r\n      .then(response => response.json())\r\n      .then(data => setCars(data._embedded.cars));\r\n  };\r\n\r\n  const saveCar = car => {\r\n    fetch(\"https://carstockrest.herokuapp.com/cars\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(car)\r\n    })\r\n      .then(res => fetchdata())\r\n      .catch(err => console.error(err));\r\n    setSaveopen(true);\r\n  };\r\n  const updateCar = (car, link) => {\r\n    fetch(link, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(car)\r\n    })\r\n      .then(res => fetchdata())\r\n      .catch(err => console.error(err));\r\n    setEditopen(true);\r\n  };\r\n  const deletecar = link => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      fetch(link, { method: \"DELETE\" })\r\n        .then(res => fetchdata())\r\n        .catch(err => console.error(err));\r\n      setOpen(true);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      Header: \"Brand\",\r\n      accessor: \"brand\"\r\n    },\r\n    {\r\n      Header: \"Model\",\r\n      accessor: \"model\"\r\n    },\r\n    {\r\n      Header: \"Color\",\r\n      accessor: \"color\"\r\n    },\r\n    {\r\n      Header: \"Fuel\",\r\n      accessor: \"fuel\"\r\n    },\r\n    {\r\n      Header: \"Year\",\r\n      accessor: \"year\"\r\n    },\r\n    {\r\n      Header: \"Price\",\r\n      accessor: \"price\"\r\n    },\r\n\r\n    {\r\n      sortable: false,\r\n      filterable: false,\r\n      width: 100,\r\n      accessor: \"_links.self.href\",\r\n      Cell: row => (\r\n        <div>\r\n          <div style={{ float: \"left\" }}>\r\n            <Editcar updateCar={updateCar} car={row.original} />\r\n          </div>\r\n          <div style={{ float: \"left\" }}>\r\n            <IconButton\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n              onClick={() => deletecar(row.value)}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </div>\r\n          <Snackbar\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"left\"\r\n            }}\r\n            open={open}\r\n            autoHideDuration={10000}\r\n            onClose={handleClose}\r\n            message=\"Car Deleted\"\r\n            action={\r\n              <>\r\n                <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\r\n                  Close\r\n                </Button>\r\n              </>\r\n            }\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Addcar saveCar={saveCar} />\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\"\r\n          }}\r\n          open={saveopen}\r\n          autoHideDuration={10000}\r\n          onClose={handleClose}\r\n          message=\"Car Added\"\r\n          action={\r\n            <>\r\n              <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\r\n                Close\r\n              </Button>\r\n            </>\r\n          }\r\n        />\r\n      </div>\r\n      <ReactTable filterable={true} data={cars} columns={columns} />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}